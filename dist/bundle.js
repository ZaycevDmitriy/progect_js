(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r,a,c,i,l,u,s,d,m,v,f,p,h,y,g,E,L,S;y=document.getElementById("timer-hours"),g=document.getElementById("timer-minutes"),E=document.getElementById("timer-seconds"),L=new Date("20:00 7 Dec 2021").getTime(),S=setInterval((function(){var e=function(){var e=(new Date).getTime(),t=(L-e)/1e3;t<0&&(t=0);var n=Math.floor(t%60),o=Math.floor(t/60)%60;return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:o,seconds:n}}();e.timeRemaining<=0&&clearInterval(S),y.textContent=e.hours<10?"0".concat(e.hours):e.hours,g.textContent=e.minutes<10?"0".concat(e.minutes):e.minutes,E.textContent=e.seconds<10?"0".concat(e.seconds):e.seconds}),1e3),(h=document.querySelector('[href^="#service-block"]')).addEventListener("click",(function(e){e.preventDefault();var t=0,n=window.pageYOffset,o=h.getBoundingClientRect().top;requestAnimationFrame((function e(r){t||(t=r);var a=r-t,c=o<0?Math.max(n-a/1,n+o):Math.min(n+a/1,n+o);window.scrollTo(0,c),c<n+o&&requestAnimationFrame(e)}))})),m=document.querySelector(".menu"),v=document.querySelector("menu"),f=function(e){var t=e.target;(t.closest("menu>ul>li")||t.classList.contains("close-btn"))&&p(),t.closest("menu")||t.closest(".menu")||p()},p=function(){v.classList.toggle("active-menu"),v.classList.contains("active-menu")?document.body.addEventListener("click",f):document.body.removeEventListener("click",f)},m.addEventListener("click",p),i=document.querySelector(".popup"),l=document.querySelectorAll(".popup-btn"),u=document.querySelector(".popup-content"),s=-50,d=function e(){c=requestAnimationFrame(e),(s+=1)<50?u.style.left="".concat(s,"%"):(cancelAnimationFrame(c),s=-50)},l.forEach((function(e){e.addEventListener("click",(function(){document.documentElement.clientWidth<768?i.style.display="block":(u.style.left="-50%",i.style.display="block",c=requestAnimationFrame(d))}))})),i.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?i.style.display="none":(t=t.closest(".popup-content"))||(i.style.display="none")})),o=document.querySelector(".service-header"),r=o.querySelectorAll(".service-header-tab"),a=document.querySelectorAll(".service-tab"),o.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&r.forEach((function(e,n){e===t&&function(e){for(var t=0;t<a.length;t++)e===t?(r[t].classList.add("active"),a[t].classList.remove("d-none")):(r[t].classList.remove("active"),a[t].classList.add("d-none"))}(n)}))})),function(){var e,t=function(){var e=document.createElement("li");return e.classList.add("dot"),e},n=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-content"),r=0;!function(){for(var e=document.querySelector(".portfolio-dots"),o=0;o<n.length;o++){var r=t();0===o&&r.classList.add("dot-active"),e.append(r)}}();var a=document.querySelectorAll(".dot"),c=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},l=function(){c(n,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=n.length&&(r=0),i(n,r,"portfolio-item-active"),i(a,r,"dot-active")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)};o.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(c(n,r,"portfolio-item-active"),c(a,r,"dot-active"),t.matches("#arrow-right")?r++:t.matches("#arrow-left")?r--:t.matches(".dot")&&a.forEach((function(e,n){e===t&&(r=n)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),i(n,r,"portfolio-item-active"),i(a,r,"dot-active"))})),u(1500),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u(1500)}))}(),document.querySelectorAll(".command__photo").forEach((function(e){var t;e.addEventListener("mouseenter",(function(){t=e.src,e.src=e.dataset.img})),e.addEventListener("mouseleave",(function(){e.src=t}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-item"),n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),i=document.getElementById("total");t.forEach((function(e){e.classList.contains("calc-type")||e.addEventListener("input",(function(){e.value=e.value.replace(/\D/g,"")}))}));var l=function(e){var t;clearInterval(t);var n=0,o=e/200;t=setInterval((function(){e>n?(n+=o,i.textContent=Math.round(n)):(clearInterval(t),n=0)}),5)},u=function(){var t=0,n=1,i=1,u=o.options[o.selectedIndex].value,s=+r.value;a.value>1&&(n+=(a.value-1)/10),c.value&&c.value<5?i*=2:c.value&&c.value<10&&(i*=1.5),u&&s&&(t=Math.round(e*u*s*n*i)),t>0&&l(t)};n.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&u()}))}(),t=document.querySelectorAll('[name="user_form"]'),n=function(e){e.value=e.value.replace(/[^а-яё\-\s\n]/gim,"")},t.forEach((function(e){e.addEventListener("input",(function(e){var t,o=e.target;"user_name"===o.name&&(n(o),(t=o).value=t.value.replace(/^[а-я]/gi,(function(e){return e.toUpperCase()}))),"user_email"===o.name&&(o.value=o.value.replace(/[^\w@\-'~_!*.]/gi,"")),"user_phone"===o.name&&(o.value=o.value.replace(/[^+\-()\d]/g,"")),"user_message"===o.name&&n(o)})),e.addEventListener("blur",(function(e){var t=e.target;if("user_email"===t.name){t.value=t.value.trim();var n=t.value.match(/(\w+(?:[._\-~!*']?\w+)*)@*(\w+(?:[._\-~!*']*\w+)*)\.(\w{2,})/i);t.value=n?"".concat(n[1],"@").concat(n[2],".").concat(n[3]):""}if("user_phone"===t.name){t.value=t.value.trim();var o=t.value.match(/(\+?)([78])(-?\(?)*(\d{3})(\)?-?)([-])*(\d{3})([-])*(\d{2})([-])*(\d{2})/);t.value=o?"".concat(o[1]).concat(o[2]).concat(o[4]).concat(o[7]).concat(o[9]).concat(o[11]):""}}),!0)})),function(){var t=document.querySelectorAll("form"),n=document.createElement("div");n.style.cssText="font-size: 2rem; color: #19b5fe",t.forEach((function(t){t.addEventListener("submit",(function(t){t.preventDefault();var o=t.target;if(o.matches("form")){o.append(n),n.textContent="Загрузка...";var r=new FormData(o);(function(e){return fetch("./server.php",{method:"POST",body:e})})(r).then((function(t){if(console.log(r),!t.ok)throw new Error("Status network not 200");var a;n.textContent="Спасибо! Мы скоро с вами свяжемся!",(a=o.elements,function(t){if(Array.isArray(t))return e(t)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(e.value="")}))})).catch((function(e){n.textContent="Что-то пошло не так...",console.error(e)}))}}))}))}()})();